// AUTOGENERATED FROM https://github.com/vuejs/eslint-plugin-vue/blob/35bf1009d9b85d88b558d1739ddaadf665bb17dd/tests/lib/rules/no-multi-spaces.js
/**
 * @fileoverview This rule warns about the usage of extra whitespaces between attributes
 * @author Armano
 */
'use strict'

// ------------------------------------------------------------------------------
// Requirements
// ------------------------------------------------------------------------------

const rule = require('../../../eslint-plugin-vue/lib/rules/no-multi-spaces')
const RuleTester = require('eslint').RuleTester

// ------------------------------------------------------------------------------
// Tests
// ------------------------------------------------------------------------------

const tester = new RuleTester({
  languageOptions: {
    parser: require('vue-eslint-parser'),
    ecmaVersion: 'latest',
    sourceType: 'module',
    parserOptions: {
      templateTokenizer: { pug: 'vue-eslint-parser-template-tokenizer-pug' }
    }
  }
})

tester.run('no-multi-spaces', rule, {
  valid: [
    '',
    `<template></template>`,
    `<template lang="pug">div</template>`,
    `<template lang="pug">.foo</template>`,
    `<template lang="pug">.foo(style="     foo   ")</template>`,
    `<template lang="pug">.foo(@click="bar")</template>`,
    `<template lang="pug">.foo(\n          :style="foo")</template>`,
    `<template lang="pug">.foo(\n\t\t\t:style="foo")</template>`,
    `<template lang="pug">.foo(\n      :style="foo"\n      )</template>`,
    `<template lang="pug">.foo(\n                       :style="foo" )</template>`,
    `<template lang="pug">.foo(\n                       :style="foo"\n                            )</template>`,
    `<template lang="pug">div {{ test }}</template>`,
    `<template lang="pug">div {{test}}</template>`,
    `<template lang="pug">
div {{test}}
  // fooo
</template>`,
    `<template lang="pug">div(v-for="i in b") {{ i }}</template>`,
    `<template lang="pug">div(v-for=" i in b ") {{ i }}</template>`,
    `<template lang="pug">div(:test="\`           \`") {{ a }}</template>`,
    `<template lang="pug">
div(:test="\`           \`") \n
  | {{ a }}
</template>`,
    `<template lang="pug">div(foo, bar)</template>`,
    `<template lang="pug">div(foo="bar", baz)</template>`,
    {
      filename: 'test.js',
      code: 'export default { }'
    },
    {
      code: `
      <template lang="pug">
i(:class="{
    'fa-angle-up'   : isExpanded,
    'fa-angle-down' : !isExpanded,
  }")
</template>`,
      options: [
        {
          ignoreProperties: true
        }
      ]
    },
    {
      code: `
      <template lang="pug">
i(:class="{
    'fa-angle-up':   isExpanded,
    'fa-angle-down': !isExpanded,
  }")
</template>`,
      options: [
        {
          ignoreProperties: true
        }
      ]
    }
  ],
  invalid: [
    {
      code: `<template lang="pug">div(  )</template>`,
      output: `<template lang="pug">div( )</template>`,
      errors: [
        {
          message: "Multiple spaces found before ')'.",
          type: 'PugEndAttributes'
        }
      ]
    },
    {
      code: `<template lang="pug">div(   class="foo"  )</template>`,
      output: `<template lang="pug">div( class="foo" )</template>`,
      errors: [
        {
          message: "Multiple spaces found before 'class'.",
          type: 'PugIdentifier'
        },
        {
          message: "Multiple spaces found before ')'.",
          type: 'PugEndAttributes'
        }
      ]
    },
    {
      code: `<template lang="pug">div(\t\tclass="foo"\t\t)</template>`,
      output: `<template lang="pug">div( class="foo" )</template>`,
      errors: [
        {
          message: "Multiple spaces found before 'class'.",
          type: 'PugIdentifier'
        },
        {
          message: "Multiple spaces found before ')'.",
          type: 'PugEndAttributes'
        }
      ]
    },
    {
      code: `<template lang="pug">div(  :class="foo"  )</template>`,
      output: `<template lang="pug">div( :class="foo" )</template>`,
      errors: [
        {
          message: "Multiple spaces found before ':'.",
          type: 'Punctuator'
        },
        {
          message: "Multiple spaces found before ')'.",
          type: 'PugEndAttributes'
        }
      ]
    },
    {
      code: `<template lang="pug">div(:foo="", class="foo"  )</template>`,
      output: `<template lang="pug">div(:foo="", class="foo" )</template>`,
      errors: [
        {
          message: "Multiple spaces found before ')'.",
          type: 'PugEndAttributes'
        }
      ]
    },
    {
      code: `<template lang="pug">div(foo="", class="foo"  )</template>`,
      output: `<template lang="pug">div(foo="", class="foo" )</template>`,
      errors: [
        {
          message: "Multiple spaces found before ')'.",
          type: 'PugEndAttributes'
        }
      ]
    },
    {
      code: `<template lang="pug">foo(v-foo="" class="foo"  )</template>`,
      output: `<template lang="pug">foo(v-foo="" class="foo" )</template>`,
      errors: [
        {
          message: "Multiple spaces found before ')'.",
          type: 'PugEndAttributes'
        }
      ]
    },
    {
      code: `<template lang="pug">foo(v-foo="" \n         class="foo"    )</template>`,
      output: `<template lang="pug">foo(v-foo="" \n         class="foo" )</template>`,
      errors: [
        {
          message: "Multiple spaces found before ')'.",
          type: 'PugEndAttributes'
        }
      ]
    },
    {
      code: `<template lang="pug">div {{  test  }}</template>`,
      output: `<template lang="pug">div {{ test }}</template>`,
      errors: [
        {
          message: "Multiple spaces found before 'test'.",
          type: 'Identifier'
        },
        {
          message: "Multiple spaces found before '}}'.",
          type: 'VExpressionEnd'
        }
      ]
    },
    {
      code: `<template lang="pug">div(               )</template>`,
      output: `<template lang="pug">div( )</template>`,
      errors: [
        {
          message: "Multiple spaces found before ')'.",
          type: 'PugEndAttributes'
        }
      ]
    },
    {
      code: `<template lang="pug">div(v-for="      i    in    b       ") {{ test }}</template>`,
      output: `<template lang="pug">div(v-for=" i in b ") {{ test }}</template>`,
      errors: [
        {
          message: "Multiple spaces found before 'i'.",
          type: 'Identifier'
        },
        {
          message: "Multiple spaces found before 'in'.",
          type: 'Keyword'
        },
        {
          message: "Multiple spaces found before 'b'.",
          type: 'Identifier'
        },
        {
          message: "Multiple spaces found before '\"'.",
          type: 'Punctuator'
        }
      ]
    },
    {
      code: `
      <template lang="pug">
i(:class=\`{
  'fa-angle-up'   : isExpanded,
  'fa-angle-down' : !isExpanded,
}\`)
</template>`,
      output: `
      <template lang="pug">
i(:class=\`{
  'fa-angle-up' : isExpanded,
  'fa-angle-down' : !isExpanded,
}\`)
</template>`,
      errors: [
        {
          message: "Multiple spaces found before ':'.",
          type: 'Punctuator'
        }
      ]
    },
    {
      code: `
      <template lang="pug">
i(:class=\`{
  'fa-angle-up':   isExpanded,
  'fa-angle-down': !isExpanded,
}\`)
</template>`,
      output: `
      <template lang="pug">
i(:class=\`{
  'fa-angle-up': isExpanded,
  'fa-angle-down': !isExpanded,
}\`)
</template>`,
      errors: [
        {
          message: "Multiple spaces found before 'isExpanded'.",
          type: 'Identifier'
        }
      ]
    }
  ]
})
