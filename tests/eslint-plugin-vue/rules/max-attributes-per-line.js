// AUTOGENERATED FROM https://github.com/vuejs/eslint-plugin-vue/blob/35bf1009d9b85d88b558d1739ddaadf665bb17dd/tests/lib/rules/max-attributes-per-line.js
/**
 * @fileoverview Define the number of attributes allows per line
 * @author Filipa Lacerda
 */
'use strict'

// ------------------------------------------------------------------------------
// Requirements
// ------------------------------------------------------------------------------

const RuleTester = require('eslint').RuleTester
const rule = require('../../../eslint-plugin-vue/lib/rules/max-attributes-per-line')

// ------------------------------------------------------------------------------
// Tests
// ------------------------------------------------------------------------------

const tester = new RuleTester({
  languageOptions: {
    parser: require('vue-eslint-parser'),
    ecmaVersion: 'latest',
    parserOptions: {
      templateTokenizer: { pug: 'vue-eslint-parser-template-tokenizer-pug' }
    }
  }
})

tester.run('max-attributes-per-line', rule, {
  valid: [
    {
      code: `<template lang="pug">component</template>`
    },
    {
      code: `<template lang="pug">component(
  name="John Doe",
  age="30",
  job="Vet"
)</template>`
    },
    {
      code: `<template lang="pug">component(
  name="John Doe",
  age="30"
)</template>`
    },
    {
      code: `<template lang="pug">component(
  name="John Doe",
  age="30")
</template>`,
      options: [{ singleline: 1 }]
    },
    {
      code: `<template lang="pug">component(job="Vet",
  name="John Doe",
  age="30"
)</template>`
    }
  ],

  invalid: [
    {
      code: `<template lang="pug">component(name="John Doe", age="30")</template>`,
      output: `<template lang="pug">component(name="John Doe",
age="30")</template>`,
      errors: ["'age' should be on a new line."]
    },
    {
      code: `<template lang="pug">component(:name="user.name", :age="user.age")</template>`,
      output: `<template lang="pug">component(:name="user.name",
:age="user.age")</template>`,
      errors: ["':age' should be on a new line."]
    },
    {
      code: `<template lang="pug">component(:is="test", v-bind="user")</template>`,
      output: `<template lang="pug">component(:is="test",
v-bind="user")</template>`,
      errors: ["'v-bind' should be on a new line."]
    },
    {
      code: `<template lang="pug">component(:name="user.name", @buy="buyProduct")</template>`,
      output: `<template lang="pug">component(:name="user.name",
@buy="buyProduct")</template>`,
      errors: ["'@buy' should be on a new line."]
    },
    {
      code: `<template lang="pug">component(:name="user.name", @click.stop)</template>`,
      output: `<template lang="pug">component(:name="user.name",
@click.stop)</template>`,
      errors: ["'@click.stop' should be on a new line."]
    },
    {
      code: `<template lang="pug">component(:name="user.name", v-if="something")</template>`,
      output: `<template lang="pug">component(:name="user.name",
v-if="something")</template>`,
      errors: ["'v-if' should be on a new line."]
    },
    {
      code: `<template lang="pug">component(name="John Doe", v-bind:age="user.age")</template>`,
      output: `<template lang="pug">component(name="John Doe",
v-bind:age="user.age")</template>`,
      errors: ["'v-bind:age' should be on a new line."]
    },
    {
      code: `<template lang="pug">component(name="John Doe", age="30", job="Vet")</template>`,
      options: [{ singleline: { max: 2 } }],
      output: `<template lang="pug">component(name="John Doe", age="30",
job="Vet")</template>`,
      errors: [
        {
          message: "'job' should be on a new line.",
          type: 'VAttribute',
          line: 1
        }
      ]
    },
    {
      code: `<template lang="pug">component(
  name="John Doe", age="30",
  job="Vet")</template>`,
      options: [{ singleline: 3, multiline: 1 }],
      output: `<template lang="pug">component(
  name="John Doe",
age="30",
  job="Vet")</template>`,
      errors: [
        {
          message: "'age' should be on a new line.",
          type: 'VAttribute',
          line: 2
        }
      ]
    }
  ]
})
